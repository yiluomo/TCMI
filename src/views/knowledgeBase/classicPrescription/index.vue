<template>
  <Banner text1="Herbal Medicine Encyclopedia" text2="经典方剂" text3="传承千年的中医药智慧结晶，精选历代医学典籍中的经典方剂" firstTitle="全民知识库" secondTitle="经典方剂" />
  <main>
    <div class="main_container">
      <div class="left">
        <h1><img src="./img/list.png" alt=""> &nbsp; 方剂分类</h1>
        <ul>
          <li class="active">全部方剂 <span>250</span></li>
          <li>解毒剂 <span>32</span></li>
          <li>清热剂 <span>32</span></li>
          <li>泻下剂 <span>32</span></li>
          <li>和解剂 <span>32</span></li>
          <li>温和剂 <span>32</span></li>
          <li>补益剂 <span>32</span></li>
          <li>固涩剂 <span>32</span></li>
        </ul>
        <a href="">查看更多分类&nbsp; <img src="./img/rightArrow.png" alt=""></a>
      </div>
      <div class="right">
        <div class="title">
          <div class="text">
            <h3>经典方剂列表</h3>
            <p>共收录248个经典方剂，源自28部中医典籍</p>
          </div>
          <div class="filter">
            <span>排序方式:</span>
            <select name="" id="">
              <option value="">推荐方剂</option>
            </select>
          </div>
        </div>
        <div class="medical_box">
          <div class="medical_container">
            <div class="medicalItem">
              <img src="./img/medical1.png" alt="">
              <div class="text">
                <h2>麻黄汤</h2>
                <p>
                  发汗解表，宣肺平喘。
                  主治外感风寒表实证，症见恶寒发热，头身疼痛，无汗而喘，舌苔薄自，脉浮紧。
                </p>
                <p>
                  <span>麻黄</span>
                  <span>桂枝</span>
                  <span>杏仁</span>
                  <span>甘草</span>
                </p>
                <div class="bottom">
                  <span><img src="./img/book.png" alt="">&nbsp;出自《伤寒论》</span>
                  <a href="">查看详情 <img src="./img/rightArrow.png" alt=""></a>
                </div>
              </div>
            </div>
            <div class="medicalItem">
              <img src="./img/medical2.png" alt="">
              <div class="text">
                <h2>桂枝汤</h2>
                <p>
                  解肌发表，调和营卫。主治外感风寒表虚证，症见恶风发热，汗出头痛，鼻鸣干呕，苔白不渴，脉浮缓或浮弱。
                </p>
                <p>
                  <span>桂枝</span>
                  <span>芍药</span>
                  <span>生姜</span>
                  <span>大枣</span>
                  <span>甘草</span>
                </p>
                <div class="bottom">
                  <span><img src="./img/book.png" alt="">&nbsp;出自《伤寒论》</span>
                  <a href="">查看详情 <img src="./img/rightArrow.png" alt=""></a>
                </div>
              </div>
            </div>
            <div class="medicalItem">
              <img src="./img/medical3.png" alt="">
              <div class="text">
                <h2>六味地黄丸</h2>
                <p>
                  滋阴补肾。主治肾阴亏损，头晕耳鸣，腰膝酸软，骨蒸潮热，盗汗遗精，消渴。
                </p>
                <p>
                  <span>熟地黄</span>
                  <span>山茱萸</span>
                  <span>山药</span>
                  <span>茯苓</span>
                  <span>丹皮</span>
                </p>
                <div class="bottom">
                  <span><img src="./img/book.png" alt="">&nbsp;出自《小儿药证直诀》</span>
                  <a href="">查看详情 <img src="./img/rightArrow.png" alt=""></a>
                </div>
              </div>
            </div>
            <div class="medicalItem">
              <img src="./img/medical4.png" alt="">
              <div class="text">
                <h2>四物汤</h2>
                <p>
                  补血调血。主治营血虚滞证，症见头晕目眩，心悸失眠，面色无华，妇人月经不调，量少或经闭不行，脐腹作痛等。
                </p>
                <p>
                  <span>熟地黄</span>
                  <span>当归</span>
                  <span>白芍</span>
                  <span>川弓</span>
                </p>
                <div class="bottom">
                  <span><img src="./img/book.png" alt="">&nbsp;出自《仙授理伤续断秘方》</span>
                  <a href="">查看详情 <img src="./img/rightArrow.png" alt=""></a>
                </div>
              </div>
            </div>
            <div class="medicalItem">
              <img src="./img/medical5.png" alt="">
              <div class="text">
                <h2>麻黄汤</h2>
                <p>
                  发汗解表，宣肺平喘。
                  主治外感风寒表实证，症见恶寒发热，头身疼痛，无汗而喘，舌苔薄自，脉浮紧。
                </p>
                <p>
                  <span>麻黄</span>
                  <span>桂枝</span>
                  <span>杏仁</span>
                  <span>甘草</span>
                </p>
                <div class="bottom">
                  <span><img src="./img/book.png" alt="">&nbsp;出自《伤寒论》</span>
                  <a href="">查看详情 <img src="./img/rightArrow.png" alt=""></a>
                </div>
              </div>
            </div>
            <div class="medicalItem">
              <img src="./img/medical2.png" alt="">
              <div class="text">
                <h2>桂枝汤</h2>
                <p>
                  解肌发表，调和营卫。主治外感风寒表虚证，症见恶风发热，汗出头痛，鼻鸣干呕，苔白不渴，脉浮缓或浮弱。
                </p>
                <p>
                  <span>桂枝</span>
                  <span>芍药</span>
                  <span>生姜</span>
                  <span>大枣</span>
                  <span>甘草</span>
                </p>
                <div class="bottom">
                  <span><img src="./img/book.png" alt="">&nbsp;出自《伤寒论》</span>
                  <a href="">查看详情 <img src="./img/rightArrow.png" alt=""></a>
                </div>
              </div>
            </div>
          </div>
          <div class="demo-pagination-block">
            <el-pagination v-model:current-page="currentPage4" v-model:page-size="pageSize4" :page-sizes="[100, 200, 300, 400]" :size="size" :disabled="disabled" :background="background" layout="sizes, prev, pager, next, jumper" :total="1600" @size-change="handleSizeChange" @current-change="handleCurrentChange" />
          </div>
        </div>
      </div>
    </div>
  </main>
</template>

<script setup>
import Banner from '@/components/kbBanner/index.vue'
import { onMounted, ref } from 'vue'

const goto = document.getElementsByClassName('el-pagination__goto')
const goto2 = document.getElementsByClassName('el-pagination__classifier')

onMounted(() => {
  goto[0].textContent = '跳至'
  goto2[0].textContent = '页'
})

const currentPage4 = ref(4)
const pageSize4 = ref(100)
const size = ref(10)
const background = ref(false)
const disabled = ref(false)

const handleSizeChange = (val) => {
  console.log(`${val} items per page`)
}
const handleCurrentChange = (val) => {
  console.log(`current page: ${val}`)
}

// 封装设置列表项激活状态的函数
const setupListItemActivation = () => {
  const list = document.querySelectorAll('.left ul li')
  list.forEach(item => {
    item.addEventListener('click', () => {
      list.forEach(item => {
        item.classList.remove('active')
      })
      item.classList.add('active')
    })
  })
}

onMounted(() => {
  setupListItemActivation()
})
</script>


<style lang='less' scoped>
@import url(./index.less);

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

main {
  width: 100%;
  background: #F5F5DC;
  border-radius: 0px 0px 0px 0px;
}

.demo-pagination-block {
  margin: 15px 0;
  text-align: center;

  :deep(.el-pagination) {
    justify-content: center;

    .el-pagination__total {
      color: #666;
    }

    .el-pager li {
      background-color: transparent;
      color: #606266;
      min-width: 32px;
      height: 32px;
      line-height: 32px;
      border-radius: 2px;
      margin: 0 5px;

      &.is-active {
        background-color: rgba(150, 99, 56, 1) !important;
        color: white !important;
        font-weight: bold;
      }

      &:hover {
        color: #6B4C2B;
      }
    }

    .btn-prev,
    .btn-next {
      background-color: transparent;
      color: #606266;

      &:hover {
        color: #6B4C2B;
      }
    }

    .el-pagination__jump {
      color: #606266;
      background-color: rgba(246, 229, 193, 1);
      padding: 0 12px;
      margin-left: 10px;

      .el-input__inner {
        height: 28px;
        width: 50px;
      }
    }

    .el-pagination__classifier {
      margin-left: 25px;
    }

    .el-pagination__sizes {
      .el-select .el-input {
        width: 110px;
      }
    }
  }
}
</style>